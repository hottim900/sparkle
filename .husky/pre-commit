# === CLAUDE.md / skills update warning ===
has_code_change=$(git diff --cached --name-only | grep -qE '^(mcp-server|server|src|scripts|docs)/' && echo true || echo false)
has_doc_change=$(git diff --cached --name-only | grep -qE '^(CLAUDE\.md|\.claude/skills/)' && echo true || echo false)

if [ "$has_code_change" = "true" ] && [ "$has_doc_change" = "false" ]; then
  echo ""
  echo "  Source directories changed but CLAUDE.md/skills were not updated."
  echo "   If this change affects documentation, update the relevant file now."
  echo "   Committing anyway (this is a warning, not a block)."
  echo ""
fi

# === lint-staged ===
npx lint-staged
